{"version":3,"sources":["webpack:///src/components/Main/organize.vue","webpack:///./src/components/Main/organize.vue?6bf3","webpack:///./src/components/Main/organize.vue"],"names":["organize","name","data","search_data","label","status","newDialogVisible","editDialogVisible","new_form","parent_node","edit_form","defaultProps","children","created","this","getOrg","methods","that","$axios","get","headers","token","localStorage","getItem","then","response","console","log","catch","error","handleCheckChange","checked","indeterminate","handleNodeClick","addNewDialog","node","school_id","parent_id","id","parent_label","addEditDialog","findNode","addStopDialog","stopDialogVisible","addNode","obj","post","code","$message","success","editNode","put","deleteNode","_this","$confirm","confirmButtonText","cancelButtonText","type","delete","info","stopNode","i","length","String","search","handleUpdate","index","_this2","msg","flag","Main_organize","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","inline","model","placeholder","value","callback","$$v","$set","expression","_v","on","click","row-key","border","default-expand-all","stripe","max-height","tree-props","hasChildren","width","prop","scopedSlots","_u","key","fn","scope","staticStyle","display","active-color","inactive-color","active-text","inactive-text","change","$event","$index","row","size","round","icon","circle","title","visible","height","update:visible","label-width","label-position","disabled","text-align","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.0274ff4734ea495f44a8.js","sourcesContent":["<template>\n    <div id='organize'>\n        <div id=\"search\">\n          <el-form :inline=\"true\" :model=\"search_data\" class=\"demo-form-inline\">\n            <el-form-item label=\"院系：\">\n              <el-input v-model=\"search_data.label\" placeholder=\"院系\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"使用状态：\">\n              <el-select v-model=\"search_data.status\" placeholder=\"使用状态\">\n                <el-option label=\"所有\" value=\"all\"></el-option>\n                <el-option label=\"正常\" value=\"true\"></el-option>\n                <el-option label=\"停用\" value=\"false\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"search\">查询</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <div id='orgTree'>\n          <el-table :data=\"data\" row-key=\"id\" class=\"el-table_header\"\n          border default-expand-all stripe\n           max-height=\"540\"\n          :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\n            <el-table-column width=\"280\" prop=\"label\" label=\"院系\"></el-table-column>\n            <el-table-column width=\"150\" prop=\"count\" label=\"学生人数\"></el-table-column>\n            <el-table-column width=\"220\" prop=\"status\" label=\"使用状态\">\n              <template slot-scope=\"scope\">\n                <el-switch\n                  style=\"display: block\"\n                  v-model=\"scope.row.status\"\n                  @change=\"handleUpdate(scope.$index, scope.row)\"\n                  active-color=\"#13ce66\"\n                  inactive-color=\"#ff4949\"\n                  active-text=\"正常\"\n                  inactive-text=\"停用\">\n                </el-switch>\n              </template>\n            </el-table-column>\n            <el-table-column width=\"200\" prop=\"update_time\" label=\"更新时间\"></el-table-column>\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"primary\" size=\"mini\" round @click=\"addNewDialog(scope.row)\">新增</el-button>\n                <el-button type=\"info\" size=\"mini\" icon=\"el-icon-edit\" circle @click=\"addEditDialog(scope.row)\"></el-button>\n                <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\" circle @click=\"deleteNode(scope.row)\"></el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n        <el-dialog\n          title=\"新增院系\"\n          :visible.sync=\"newDialogVisible\"\n          width=\"50%\" height=\"50%\">\n          <template class=\"dialog-form\">\n            <el-form :model=\"new_form\" label-width=\"20%\" label-position=\"right\">\n              <el-form-item label=\"上级院系：\">\n                <el-input v-model=\"new_form.parent_label\" disabled></el-input>\n              </el-form-item>\n              <el-form-item label=\"院系名称：\">\n                <el-input v-model=\"new_form.label\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"使用状态：\" style=\"text-align:left\">\n                <el-radio-group v-model=\"new_form.status\">\n                  <el-radio label=\"true\">正常</el-radio>\n                  <el-radio label=\"false\">停用</el-radio>\n                </el-radio-group>\n              </el-form-item>\n            </el-form>\n          </template>\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"newDialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"addNode\">确 定</el-button>\n          </span>\n        </el-dialog>\n        <el-dialog\n          title=\"修改院系\"\n          :visible.sync=\"editDialogVisible\"\n          width=\"50%\" height=\"50%\">\n          <template class=\"dialog-form\">\n            <el-form :model=\"edit_form\" label-width=\"20%\" label-position=\"right\">\n              <el-form-item label=\"上级院系：\">\n                <el-input v-model=\"edit_form.parent_label\" disabled></el-input>\n              </el-form-item>\n              <el-form-item label=\"院系名称：\">\n                <el-input v-model=\"edit_form.label\"></el-input>\n              </el-form-item>\n            </el-form>\n          </template>\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"editNode\">确 定</el-button>\n          </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'oranize',\n  data () {\n    return {\n      search_data: {\n        label: '',\n        status: 'all'\n      },\n      newDialogVisible: false,\n      editDialogVisible: false,\n      new_form: {},\n      parent_node: {},\n      edit_form: {},\n      data: [],\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      }\n    }\n  },\n  created () {\n    this.getOrg()\n  },\n  methods: {\n    getOrg () {\n      var that = this\n      this.$axios.get('/account/admin/school/organize', {\n        headers: {\n          token: localStorage.getItem('token')\n        }\n      })\n        .then(function (response) {\n          that.data = response.data.data\n          console.log(that.data)\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    handleCheckChange (data, checked, indeterminate) {\n      console.log(data, checked, indeterminate)\n    },\n    handleNodeClick (data) {\n      console.log(data)\n    },\n    addNewDialog (node) {\n      this.newDialogVisible = true\n      this.new_form.school_id = node.school_id\n      this.new_form.parent_id = node.id\n      this.new_form.parent_label = node.label\n      this.new_form.status = 'true'\n    },\n    addEditDialog (node) {\n      this.editDialogVisible = true\n      this.edit_form = node\n      this.edit_form.parent_id = node.parent_id\n      this.findNode(node.parent_id, this.data)\n      this.edit_form.parent_label = this.parent_node.label\n      this.parent_node = {}\n    },\n    addStopDialog (node) {\n      this.stopDialogVisible = true\n    },\n    addNode () {\n      var that = this\n      var obj = {\n        school_id: that.new_form.school_id,\n        label: that.new_form.label,\n        parent_id: that.new_form.parent_id,\n        status: that.new_form.status\n      }\n      console.log(obj)\n      this.$axios.post('/account/admin/school/organize', obj, {\n        headers: {\n          token: localStorage.getItem('token')\n        }\n      })\n        .then(function (response) {\n          if (response.data.code === 0) {\n            that.getOrg()\n            that.newDialogVisible = false\n            that.$message.success('添加成功')\n          } else {\n            that.newDialogVisible = false\n            that.$message.error('添加失败')\n          }\n        })\n        .catch(function (error) {\n          that.newDialogVisible = false\n          that.$message.error('添加失败')\n          console.log(error)\n        })\n    },\n    editNode () {\n      var that = this\n      console.log(that.edit_form)\n      var obj = {\n        id: that.edit_form.id,\n        label: that.edit_form.label\n      }\n      this.$axios.put('/account/admin/school/organize', obj, {\n        headers: {\n          token: localStorage.getItem('token')\n        }\n      })\n        .then(function (response) {\n          if (response.data.code === 0) {\n            that.getOrg()\n            that.editDialogVisible = false\n            that.$message.success('修改成功')\n          } else {\n            that.editDialogVisible = false\n            that.$message.error('修改失败')\n          }\n        })\n        .catch(function (error) {\n          that.editDialogVisible = false\n          that.$message.error('修改失败')\n          console.log(error)\n        })\n    },\n    deleteNode (node) {\n      var that = this\n      this.$confirm('是否确认此操作?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$axios.delete('/account/admin/school/organize?id=' + node.id, {\n          headers: {\n            token: localStorage.getItem('token')\n          }\n        })\n          .then(function (response) {\n            if (response.data.code === 0) {\n              that.getOrg()\n              that.$message.success('删除成功！')\n            } else {\n              that.$message.error('删除失败！')\n            }\n          })\n          .catch(function (error) {\n            that.$message.error('删除失败！')\n            console.log(error)\n          })\n      }).catch(() => {\n        that.$message.info('取消操作！')\n      })\n    },\n    stopNode () {\n      this.stopDialogVisible = false\n    },\n    findNode (id, data) {\n      for (var i = 0; i < data.length; i++) {\n        if (String(data[i].id) === id) {\n          this.parent_node = data[i]\n        }\n        if (data[i].children != null) {\n          this.findNode(id, data[i].children)\n        }\n      }\n    },\n    search () {\n      var that = this\n      this.$axios.get('/account/admin/school/organize?label=' + that.search_data.label + '&status=' + that.search_data.status, {\n        headers: {\n          token: localStorage.getItem('token')\n        }\n      })\n        .then(function (response) {\n          if (response.data.code === 0) {\n            that.data = response.data.data\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    handleUpdate (index, node) {\n      var that = this\n      let msg = ''\n      let flag\n      if (node.status === false) {\n        msg = '停用'\n        flag = 'false'\n      } else {\n        msg = '开启'\n        flag = 'true'\n      }\n      console.log(flag)\n      this.$confirm('是否确认此操作?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        var obj = {\n          id: node.id,\n          status: flag\n        }\n        that.$axios.put('/account/admin/school/organize/status', obj, {\n          headers: {\n            token: localStorage.getItem('token')\n          }\n        })\n          .then(function (response) {\n            if (response.data.code === 0) {\n              that.getOrg()\n              that.$message.success(msg + '成功')\n            } else {\n              this.$message.error(msg + '失败！')\n            }\n          })\n          .catch(function (error) {\n            this.$message.error(msg + '失败！')\n            console.log(error)\n          })\n      }).catch(() => {\n        this.$message.info('取消操作！')\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n#organize {\n  padding: 20px 30px 5px 20px;\n}\n#search {\n  text-align: left;\n  padding-top: 20px;\n  height: 100px;\n}\n.el-form-item {\n  margin-right: 40px;\n}\n.dialog-form {\n  text-align: left;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Main/organize.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"organize\"}},[_c('div',{attrs:{\"id\":\"search\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.search_data}},[_c('el-form-item',{attrs:{\"label\":\"院系：\"}},[_c('el-input',{attrs:{\"placeholder\":\"院系\"},model:{value:(_vm.search_data.label),callback:function ($$v) {_vm.$set(_vm.search_data, \"label\", $$v)},expression:\"search_data.label\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用状态：\"}},[_c('el-select',{attrs:{\"placeholder\":\"使用状态\"},model:{value:(_vm.search_data.status),callback:function ($$v) {_vm.$set(_vm.search_data, \"status\", $$v)},expression:\"search_data.status\"}},[_c('el-option',{attrs:{\"label\":\"所有\",\"value\":\"all\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"true\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"停用\",\"value\":\"false\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"orgTree\"}},[_c('el-table',{staticClass:\"el-table_header\",attrs:{\"data\":_vm.data,\"row-key\":\"id\",\"border\":\"\",\"default-expand-all\":\"\",\"stripe\":\"\",\"max-height\":\"540\",\"tree-props\":{children: 'children', hasChildren: 'hasChildren'}}},[_c('el-table-column',{attrs:{\"width\":\"280\",\"prop\":\"label\",\"label\":\"院系\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"150\",\"prop\":\"count\",\"label\":\"学生人数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"220\",\"prop\":\"status\",\"label\":\"使用状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"正常\",\"inactive-text\":\"停用\"},on:{\"change\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}},model:{value:(scope.row.status),callback:function ($$v) {_vm.$set(scope.row, \"status\", $$v)},expression:\"scope.row.status\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"200\",\"prop\":\"update_time\",\"label\":\"更新时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.addNewDialog(scope.row)}}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\",\"size\":\"mini\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.addEditDialog(scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deleteNode(scope.row)}}})]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增院系\",\"visible\":_vm.newDialogVisible,\"width\":\"50%\",\"height\":\"50%\"},on:{\"update:visible\":function($event){_vm.newDialogVisible=$event}}},[[_c('el-form',{attrs:{\"model\":_vm.new_form,\"label-width\":\"20%\",\"label-position\":\"right\"}},[_c('el-form-item',{attrs:{\"label\":\"上级院系：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.new_form.parent_label),callback:function ($$v) {_vm.$set(_vm.new_form, \"parent_label\", $$v)},expression:\"new_form.parent_label\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"院系名称：\"}},[_c('el-input',{model:{value:(_vm.new_form.label),callback:function ($$v) {_vm.$set(_vm.new_form, \"label\", $$v)},expression:\"new_form.label\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"text-align\":\"left\"},attrs:{\"label\":\"使用状态：\"}},[_c('el-radio-group',{model:{value:(_vm.new_form.status),callback:function ($$v) {_vm.$set(_vm.new_form, \"status\", $$v)},expression:\"new_form.status\"}},[_c('el-radio',{attrs:{\"label\":\"true\"}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"false\"}},[_vm._v(\"停用\")])],1)],1)],1)],_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.newDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addNode}},[_vm._v(\"确 定\")])],1)],2),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改院系\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\",\"height\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event}}},[[_c('el-form',{attrs:{\"model\":_vm.edit_form,\"label-width\":\"20%\",\"label-position\":\"right\"}},[_c('el-form-item',{attrs:{\"label\":\"上级院系：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.edit_form.parent_label),callback:function ($$v) {_vm.$set(_vm.edit_form, \"parent_label\", $$v)},expression:\"edit_form.parent_label\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"院系名称：\"}},[_c('el-input',{model:{value:(_vm.edit_form.label),callback:function ($$v) {_vm.$set(_vm.edit_form, \"label\", $$v)},expression:\"edit_form.label\"}})],1)],1)],_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editNode}},[_vm._v(\"确 定\")])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ff830d6a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main/organize.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ff830d6a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./organize.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organize.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organize.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ff830d6a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./organize.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ff830d6a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main/organize.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}